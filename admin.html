<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.5.0/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Lateef&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="fetchBlogs.js" defer></script> 
    <script src="admin.js" defer></script>
    <style>
        .nav-link {
            display: flex;
            align-items: center;
            width: 100%;
        }
        .nav-link .bi {
            margin-right: 10px;
        }
        .form-container {
            align-items: center;
            border: 2px solid blue;
            padding: 20px;
            border-radius: 10px;
            background-color: #f8f9fa;
            width: 70%;
            margin: auto;
            display: none; 
        }
        .table-container {
            display: block; 
        }
        .table-container {
        margin-top: 20px; 
        padding: 15px; 
        border: 1px solid #ddd; 
        border-radius: 5px;
        background-color:#ffffff; 
        overflow-x: auto; 
        max-width: 100%; 
}

.table {
        width: 100%; 
        table-layout: fixed; 
}


    .table th, .table td {
            white-space: normal; 
            overflow: hidden;
            word-wrap: break-word; 
            text-overflow: ellipsis;
    }
        .card-container {
            display: none; 
            margin-top: 20px;
            display: flex;
            justify-content: space-around;
        }
        .card {
            flex: 1;
            margin: 0 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .card h3 {
            margin: 0;
            font-size: 24px;
        }
        .card p {
            font-size: 18px;
        }
        #likesCard, #blogsCard, #commentsCard {
            text-align: center;
        }
        #recent-blogs {
    display: flex;
    flex-direction: column; /* Arrange items in a column */
    align-items: center; /* Center items horizontally */
    max-width: 600px; /* Limit the width of the container */
 
}
.recent-blog-item {
    background-color: #f9f9f9; /* Light background for contrast */
    padding: 10px; /* Reduced padding for a compact look */
    border-radius: 6px; /* Rounded corners */
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
    margin-bottom: 10px; /* Space between items */
    transition: transform 0.2s; /* Smooth scaling effect */
    width: 100%; /* Full width of the container */
    max-width: 90%; /* Limit maximum width to prevent stretching */
}
.recent-blog-item h5 {
    margin: 0;
    font-size: 16px; /* Smaller font size */
    color: #333; /* Darker text color */
}

.recent-blog-item p {
    margin: 3px 0; /* Reduced margin for compactness */
    font-size: 14px; /* Slightly smaller font size */
    color: #666; /* Lighter text color */
}
.recent-blog-item::before {
    content: "üìù"; /* Icon before the blog item */
    font-size: 16px; /* Smaller size for the icon */
    margin-right: 5px; /* Space between icon and text */
    vertical-align: middle; /* Align icon with text */
    color: #007bff; /* Color of the icon */
}

@media (max-width: 768px) {
    .table-container {
        padding: 10px; 
        overflow-x: auto; 
    }
     .recent-blog-item {
        padding: 15px; /* Reduce padding on smaller screens */
        width: 90%; /* Allow more width on mobile */
    }
}
        
        .message {
    display: none; 
}

.message.success {
    display: block; 
    color: green; 
}

.message.error {
    display: block; 
    color: red; 
}

    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-auto bg-light sticky-top">
                <div class="d-flex flex-sm-column flex-row flex-nowrap bg-light align-items-center sticky-top">
                    <a href="/" class="d-block p-3 link-dark text-decoration-none" title="Bootstrap" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Icon-only">
                        <span>ADMIN</span>
                    </a>
                    <ul class="nav nav-pills nav-flush flex-sm-column flex-row flex-nowrap mb-auto mx-auto text-center align-items-center">
                        <li class="nav-item">
                            <a href="admin.html" id="overview-link" class="nav-link py-3 px-2" title="Overview" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Overview">
                                <i class="bi-house fs-1"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" id="create-blog-link" class="nav-link py-3 px-2" title="Create Blog" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Create Blog">
                                <i class="bi-pencil-square fs-1"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" id="view-blogs-link" class="nav-link py-3 px-2" title="View All Blogs" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="View All Blogs">
                                <i class="bi-collection fs-1"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" id="manage-projects-link" class="nav-link py-3 px-2" title="Manage Projects" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Manage Projects">
                                <i class="bi-folder fs-1"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="login.html" id="logout-link" class="nav-link py-3 px-2" title="Logout" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Logout">
                                <i class="bi-box-arrow-right fs-1"></i>
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>

            <div class="col-sm p-3 min-vh-100">
                <!-- Statistics Cards -->
                <div id="card-container" class="card-container">
                    <div class="card" id="likesCard">
                        <h3>Total Likes</h3>
                        <p id="total-likes">Loading...</p>
                    </div>
                    <div class="card" id="blogsCard">
                        <h3>Total Blogs</h3>
                        <p id="total-blogs">Loading...</p>
                    </div>
                    <div class="card" id="commentsCard">
                        <h3>Total Comments</h3>
                        <p id="total-comments">Loading...</p>
                    </div>
                </div>
                <div id="blog-display" class="mt-4">
                    <h2>Recent Blogs</h2>
                    <ul id="recent-blogs" class="list-unstyled">
                    
                    </ul>
                </div>
                

            <div class="col-sm p-3 min-vh-100">
                <div id="form-container" class="form-container">
                    <h2>Create Blog</h2>
                    <form class="form" id="createBlogForm" enctype="multipart/form-data">
                        <div class="mb-3">
                            <label for="blogTitle" class="form-label">Blog Title</label>
                            <input type="text" class="form-control" id="blogTitle" name="title" required>
                        </div>
                        <div class="mb-3">
                            <label for="author" class="form-label">Author</label>
                            <input type="text" class="form-control" id="author" name="author" required>
                        </div>
                        <div class="mb-3">
                            <label for="description" class="form-label">Description</label>
                            <textarea class="form-control" id="description" name="description" rows="4" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="uploadImage" class="form-label">Upload Image</label>
                            <input type="file" class="form-control" id="uploadImage" name="image" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                    <div id="message" class="message"></div>
                </div>
                <!-- ///// -->

                <!-- Bootstrap Modal HTML -->
        <div class="modal fade" id="editBlogModal" tabindex="-1" aria-labelledby="editBlogModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="editBlogModalLabel">Edit Blog</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="editBlogForm">
                            <input type="hidden" id="editBlogId" name="id">
                            <div class="mb-3">
                                <label for="editBlogTitle" class="form-label">Title</label>
                                <input type="text" class="form-control" id="editBlogTitle" name="title" required>
                            </div>
                            <div class="mb-3">
                                <label for="editAuthor" class="form-label">Author</label>
                                <input type="text" class="form-control" id="editAuthor" name="author" required>
                            </div>
                            <div class="mb-3">
                                <label for="editDescription" class="form-label">Content</label>
                                <textarea class="form-control" id="editDescription" name="content" required></textarea>
                            </div>
                        
                            <button type="submit" class="btn btn-primary">Update Blog</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

                <div id="table-container" class="table-container">
                    <h2>Blog List</h2>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Title</th>
                                <th scope="col">Author</th>
                                <th scope="col">Content</th>
                                <th scope="col">Published date</th>
                                <th scope="col">Image</th>
                                <th scope="col">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="blog-table-body">
                           
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
     
</body>
</html>
